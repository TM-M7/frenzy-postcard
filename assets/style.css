/* Night (default) */
:root{
  --fg:#ffffff;           /* базовый текст: белый */
  --fg-dim:#e0e0ff;       /* второстепенный текст: светлый серо-голубой */
  --link-accent:#ffd28a;  /* акцент: жёлтый */
  --link-accent-2:#34d1bb;/* акцент: бирюзовый */
  --glass: rgba(18, 22, 40, 0.55);
  --glass-border: rgba(255,255,255,0.10);
}

body.theme-day{
  --fg:#101420;           /* чёрный для дня */
  --fg-dim:#3c465a;       /* тёмно-серый для дня */
  --link-accent:#ffb763;
  --link-accent-2:#2fb8a0;
  --glass: rgba(255,255,255,0.65);
  --glass-border: rgba(0,0,0,0.06);
}

.text-dim{ color: var(--fg-dim) !important; }

body.theme-night,
body.theme-night .accordion-button,
body.theme-night .list-group-item,
body.theme-night .table td,
body.theme-night .table th {
  color: #fdfdfd !important;
}

body.theme-night .text-dim,
body.theme-night small,
body.theme-night .small {
  color: #d5d9ff !important;
}


html,body{height:100%}
html{scroll-behavior:smooth}
body{
  font-family: Inter, system-ui, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--fg);
  overflow-x:hidden;
}



/* Static backgrounds (CSS lives in /assets → paths are relative) */
body::before{
  content:"";
  position:fixed; inset:0;
  background:url("img/characters.png") no-repeat center center fixed;
  background-size:cover;
  z-index:-2;
}
body.theme-day::before{
  background:url("img/day-bg.jpg") no-repeat center center fixed;
  background-size:cover;
}

h2 {
  position: relative;
  display: inline-block;
  padding-bottom: .3rem;
}
h2::after {
  content: "";
  position: absolute; left: 0; right: 0; bottom: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--link-accent), var(--link-accent-2));
  border-radius: 99px;
}
.price {
  color: #ffd28a !important;
  text-shadow: 0 0 6px rgba(255,210,138,.6);
}


/* Canvas layer for leaves */
#bgCanvas{
  position:fixed; inset:0; width:100vw; height:100vh;
  z-index:-1; display:block; pointer-events:none;
}

/* Glass look */
.glass {
  backdrop-filter: blur(14px) saturate(130%);
  background: rgba(15, 15, 25, 0.6) !important;
  border: 1px solid rgba(255,255,255,0.15) !important;
  box-shadow: 0 8px 30px rgba(0,0,0,.45) !important;
}
body.theme-day .glass {
  background: rgba(255,255,255,0.75) !important;
}


/* Headline style */
h1,h2,h3{ font-family:"Playfair Display", serif; letter-spacing:.2px; }
.headline span{
  box-shadow: inset 0 -0.35em 0 0 color-mix(in oklab, var(--link-accent) 22%, transparent);
}
a.link{ position:relative; color:inherit; text-decoration:none; }
a.link:hover {
  color: #ffd28a !important;
  text-shadow: 0 0 6px rgba(255,210,138,.6);
}

a.link::after{
  content:""; position:absolute; left:0; right:0; bottom:-3px; height:2px;
  background:linear-gradient(90deg,var(--link-accent),var(--link-accent-2));
  opacity:0; transform:translateY(4px); transition:.25s; border-radius:999px;
}
a.link:hover::after{ opacity:1; transform:none; }
.text-dim{ color: var(--fg-dim) !important; }

/* Smartphone-like gallery */
.gallery-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
  gap:10px;
}
@media (min-width:768px){ .gallery-grid{ grid-template-columns:repeat(auto-fill,minmax(140px,1fr)); gap:12px; } }
@media (min-width:1024px){ .gallery-grid{ grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); gap:14px; } }

.tile{
  position:relative; border-radius:16px; overflow:hidden;
  backdrop-filter: blur(6px) saturate(120%);
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
  transition: transform .18s ease, box-shadow .18s ease, background .18s ease;
}
body.theme-day .tile{
  background: rgba(255,255,255,.55);
  border-color: rgba(0,0,0,.08);
  box-shadow: 0 10px 24px rgba(0,0,0,.15);
}
.tile:hover{ transform: translateY(-2px); box-shadow: 0 16px 44px rgba(0,0,0,.36); }
.tile img{ display:block; width:100%; height:100%; object-fit:cover; filter: saturate(1.03); }
.tile::after{ content:""; position:absolute; inset:0; pointer-events:none;
  background: linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,.12));
}

/* Latest from TG */
.latest-wrap{ margin-top:14px; }
.latest-card{
  position:relative; border-radius:18px; overflow:hidden;
  backdrop-filter: blur(6px) saturate(120%);
  background: rgba(255,255,255,.07);
  border: 1px solid rgba(255,255,255,.14);
  box-shadow: 0 12px 40px rgba(0,0,0,.3);
}
body.theme-day .latest-card{ background: rgba(255,255,255,.6); border-color: rgba(0,0,0,.08); }
.latest-card img{ width:100%; height:260px; object-fit:cover; display:block; }
.latest-label{
  position:absolute; bottom:10px; right:12px; font-weight:600; font-size:12px;
  padding:.35rem .6rem; border-radius:999px; background:rgba(0,0,0,.55); color:#fff;
}

/* Transparent table inside glass */
.table{
  --bs-table-bg: transparent;
  --bs-table-border-color: rgba(255,255,255,.12);
  color: var(--fg);
}
.table thead tr{ background: rgba(255,255,255,.05); }
.table tbody tr{ border-top: 1px solid rgba(255,255,255,.12); }
body.theme-day .table thead tr{ background: rgba(0,0,0,.04); }
body.theme-day .table tbody tr{ border-top: 1px solid rgba(0,0,0,.08); }

/* Light-ish util */
.btn-light-subtle{ background:#ffffff20; color:var(--fg); border-color:#ffffff33; }
.btn-light-subtle:hover{ background:#ffffff30; }

/* ——— Process / Prompt-book: стеклянный аккордеон и читабельность ——— */
.accordion.glass{
  background: var(--glass) !important;
  border: 1px solid var(--glass-border) !important;
  box-shadow: 0 8px 30px rgba(0,0,0,.45);
}
.accordion.glass .accordion-item{
  background: transparent;
  border: none;
}
.accordion.glass .accordion-button{
  background: linear-gradient(0deg, rgba(255,255,255,.05), rgba(255,255,255,.08));
  color: var(--fg);
  box-shadow: none;
}
body.theme-day .accordion.glass .accordion-button{
  background: linear-gradient(0deg, rgba(0,0,0,.03), rgba(0,0,0,.06));
}
.accordion.glass .accordion-button.collapsed{
  background: transparent;
  color: var(--fg);
}
.accordion.glass .accordion-button:focus{
  box-shadow: 0 0 0 .2rem rgba(255,210,138,.25);
  border-color: color-mix(in oklab, var(--link-accent) 40%, transparent);
}
.accordion.glass .accordion-body{
  background: rgba(0,0,0,.08);
  color: var(--fg);
}

/* Чёткие цвета текста ночью — только светлые */
body.theme-night,
body.theme-night .accordion-button,
body.theme-night .list-group-item,
body.theme-night .accordion-body,
body.theme-night .table td,
body.theme-night .table th{
  color: #fdfdfd !important;
}
body.theme-night .text-dim,
body.theme-night small,
body.theme-night .small{
  color: #d5d9ff !important;
}

/* Подчеркивающая линия заголовкам раздела */
#process > h2{
  position:relative; display:inline-block; padding-bottom:.3rem;
}
#process > h2::after{
  content:""; position:absolute; left:0; right:0; bottom:0; height:3px;
  background: linear-gradient(90deg, var(--link-accent), var(--link-accent-2));
  border-radius:999px; opacity:.9;
}

/* inputs в ночной теме — контрастные */
body.theme-night .form-control{
  background: rgba(255,255,255,.06);
  color: #fff;
  border: 1px solid rgba(255,255,255,.14);
}
body.theme-night .form-control:focus{
  border-color: rgba(255,210,138,.6);
  box-shadow: 0 0 0 .2rem rgba(255,210,138,.25);
}

#ambientControl {
  backdrop-filter: blur(10px) saturate(120%);
  background: rgba(20,20,30,0.6);
  border: 1px solid rgba(255,255,255,.15);
  box-shadow: 0 6px 20px rgba(0,0,0,.4);
}
body.theme-day #ambientControl {
  background: rgba(255,255,255,0.75);
  border-color: rgba(0,0,0,.1);
}

/* Подсказка у плеера */
#ambHint{
  position:fixed; z-index:1200;
  max-width:260px;
  padding:14px 16px 12px;
  border-radius:14px;
  background: rgba(20,20,30,0.85);
  border:1px solid rgba(255,255,255,.18);
  box-shadow: 0 8px 30px rgba(0,0,0,.55);
  color:#fff;
  backdrop-filter: blur(10px) saturate(120%);
  animation: fadeIn .25s ease;
}
#ambHint .arrow{
  position:absolute;
  top:-18px;               /* подгоняй позицию сюда */
  right:56px;              /* и сюда — чтобы указывало ровно на контролы */
  width:0; height:0;
  border-left:12px solid transparent;
  border-right:12px solid transparent;
  border-bottom:20px solid #ffd200; /* ярко-жёлтый */
  filter: drop-shadow(0 0 6px #ffd200) drop-shadow(0 0 14px #ffb700);
  animation: glowArrow 1.2s infinite alternate;
}
#ambHint .btn-ok{
  margin-top:10px;
  padding:.3rem .8rem;
  border-radius:999px;
  border:1px solid #ffd200;
  color:#ffd200;
  background:transparent;
}
#ambHint .btn-ok:hover{ background:rgba(255,210,0,.12); }

@keyframes glowArrow{
  from { filter: drop-shadow(0 0 6px #ffd200) drop-shadow(0 0 14px #ffb700); }
  to   { filter: drop-shadow(0 0 12px #ffea4d) drop-shadow(0 0 22px #ffd200); }
}
@keyframes fadeIn{ from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none} }
